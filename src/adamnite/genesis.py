from copy import deepcopy

from adamnite.block import Block
from adamnite.account import PrivateAccount
from adamnite.serialization import deserialize
from adamnite.transaction import Transaction


COINBASE = 10000
GENESIS_ACCOUNT = PrivateAccount()
GENESIS_TRANSACTION = Transaction(
    sender=GENESIS_ACCOUNT,
    receiver=GENESIS_ACCOUNT.public_account(),
    amount=100,
    message=b'Adamnite: A scalable and secure blockchain platform',
)
GENESIS_TRANSACTIONS: tuple = (
    GENESIS_TRANSACTION,
)
GENESIS_BLOCK: Block = Block(
    previous_hash=bytes(64),
    height=0,
    proposer=GENESIS_ACCOUNT,
    witnesses=(GENESIS_ACCOUNT.public_account(),),
    transactions=GENESIS_TRANSACTIONS,
)
ADAMNITE_GENESIS_BLOCK: Block = deepcopy(GENESIS_BLOCK)
ADAMNITE_GENESIS_BLOCK, size = deserialize(
    b'\x00\x00\x00@\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'
    b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'
    b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'
    b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'
    b'\x00\x00\x00b_\xe3J\x00\x00'
    b'\x00,uLCskps3DUC7SfCr7f452tmqKd9RBGHe9b11qR2nBr2m\x00\x00\x00G0E\x02!'
    b'\x00\x92\x98\xc7\xd7\xd5\x05\xe2\x04P\xb8\x7f\xa2\x08+\xce\x17\x18\x11'
    b'\x19\xafQ\x9aL\xc4o\x8asuX49=\x02 1\xabKP \xf8\xaem\x1b!\x8e\xfa\xc0'
    b'\x0f"ME`\xbf\x00\x14<;;y\x10\x122\xd3\x12%`\x00\x00\x00\x01\x00\x00'
    b'\x00,uLCskps3DUC7SfCr7f452tmqKd9RBGHe9b11qR2nBr2m\x00\x00\x00@\\\xffA'
    b'\x00d\x93\x86\xf1r\xe4\x17m\xb5\xe4\xd1G\x90\xa7\xd1\x97t\xcb\x03\x9eR'
    b'\xe9\xc0\x9e\xbe\xc0\xa7@\x85C\x07y\xdc\xeb\x8a\xaa\x10\xde2\xa5=#\xb8'
    b'\xee\xa8\x1e\xe8\x92\xae\x84]\xd6\x8c\x89\xf8\x04\xee\xc8\x04[\x00\x00'
    b'\x00\x01\x00\x00\x00,uLCskps3DUC7SfCr7f452tmqKd9RBGHe9b11qR2nBr2m\x00'
    b'\x00\'\x10\x00\x00\x00,oj8krLtVzrSba4NLjPHyLEb9AGCHVGaVGVaMLwcZSPk9\x00'
    b'\x00\x003Adamnite: A scalable and secure blockchain platform\x00\x00\x00'
    b'\x00\x00\x00\x00\x00\x00\x00\x00F0D\x02 $p\x07\x8d\xb2\xc1\xb7\xaa\x10G]h'
    b'\xa8\xbe F]y\xfe\xd5\xbe\xddX\xa9b\x01l\x11\xacFu\xfe\x02 W\xf7\x91\xa1'
    b'\xebNx\xc0n\x05zd\xb2^\xc7\xb6?J%\xa7\x90\xa7l#mD\x9cf\xea\x15\xa75\x00'
    b'\x00\x00@\xe6\xb0\xcax9T)\xe8Z\xa4o\x99\xa6\xe4\x86\x96pw\xb08\xc7{QS\xe0'
    b'\x8e\x85\x97\x93\xfb\xd4\x9fX\x16P\x088G\r\x96p9\xdd\x80\xecyYR\x1d\x8cGZ'
    b'\xeb\xdf\xc0\xf4\x94\xfa/8s\xf23\xd0',
    ADAMNITE_GENESIS_BLOCK,
)
assert ADAMNITE_GENESIS_BLOCK.valid()

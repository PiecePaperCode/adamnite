from copy import deepcopy

from adamnite.block import Block
from adamnite.account import PrivateAccount
from adamnite.serialization import deserialize
from adamnite.transaction import Transaction


COINBASE = 10000
GENESIS_ACCOUNT = PrivateAccount()
GENESIS_TRANSACTION = Transaction(
    sender=GENESIS_ACCOUNT,
    receiver=GENESIS_ACCOUNT.public_account(),
    amount=100,
    message=b'Adamnite: A scalable and secure blockchain platform',
)
GENESIS_TRANSACTIONS: tuple = (
    GENESIS_TRANSACTION,
)
GENESIS_BLOCK: Block = Block(
    previous_hash=bytes(64),
    height=0,
    proposer=GENESIS_ACCOUNT,
    witnesses=(GENESIS_ACCOUNT.public_account(),),
    transactions=GENESIS_TRANSACTIONS,
)
assert GENESIS_BLOCK.valid()
ADAMNITE_GENESIS_BLOCK: Block = deepcopy(GENESIS_BLOCK)
ADAMNITE_GENESIS_BLOCK, size = deserialize(b"\x00\x00\x00@\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00bb`\x04\x00\x00\x00,uNDDE2pY6smo4ndo4AeuqCTpGPQhcqg4Y5ojfwNTLajf\x00\x00\x00F0D\x02 1\xb5\x0e[\xda\xe6>\xd8\xbb\xf6U\x96\\\xba2}\xf8\x96\x1dj\xce\x03\xa8\x99\x9d\x1a\xce~|\x83e\x83\x02 \nxQl'u\x19*\x9d:\xccP\xe3\x1eK~\x03\xfc!Hx{$\x84L\x1b\x0bO4{t\xb5\x00\x00\x00\x01\x00\x00\x00,uNDDE2pY6smo4ndo4AeuqCTpGPQhcqg4Y5ojfwNTLajf\x00\x00\x00@@OG\xe5\x9d:\xf3\xb1(K\x1f\xc0\xbes\x1bj\xbd\x00\x04\xae\x89\x89/\x12\xadP\x95\xfa\xe6\xb7CA\xa8-\xa9\x12\x83I\xe1\xd7\xb2\x1a/f[A;\x17\x88\xa6+\x9f\xf9\xf6\xab!\x16\xef\xf9\xc2d~\x80\x92\x00\x00\x00\x01\x00\x00\x00,uNDDE2pY6smo4ndo4AeuqCTpGPQhcqg4Y5ojfwNTLajf\x00\x00'\x10\x00\x00\x00,uD4YLvrYBNrBMtU7pysMMUkoXMNo4f4xstz1PzuBzhNK\x00\x00\x003Adamnite: A scalable and secure blockchain platform\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00F0D\x02 }\xf3\xc8\xaf\x81%\xcf\x8024\x99\x8dG\x10\xf9\x8b\xde#`NAt\x04\xeb>\xbe\xd8\xb9\xb4\xf9\x9e\x9d\x02 \x05\x8fs\x12z2\xf1\x98z[/\xb5s2_.p$\x14.Oc\xc5#\xabD\xe7\x9aY\xc6\x18\xe8\x00\x00\x00@4\xae\x8eTL\xa8\xc6\x9b\xc3\t\x98\xf4\xe7\x90\xf1\xf8\x9ek&\xfc\xac\rj\xad\xfd\xf3\x87\xcfhd\xa6\x95\\\x88\x1cnJI\xa6:l\xb1&L\xe7\rX\xf8\x9f\xe3\xca\xc9\xa6\t!RD\xc9,\xda\x05<\xd0V",
    ADAMNITE_GENESIS_BLOCK,
)
assert ADAMNITE_GENESIS_BLOCK.valid()
